# Experiment Log

|         | ACM           | DBLP          | ACM_D         | DBLP_D | ACM_RD | DBLP_RD       |
| ------- | ------------- | ------------- | ------------- | ------ | ------ | ------------- |
| ACM     |               | ==0.7543==    | 0.7621>0.8876 | 0.7463 |        | 0.7386        |
| ACM_D   |               | 0.6605        |               | 0.6666 |        |               |
| ACM_RD  | 0.8563>0.8616 | ==0.6607==    |               |        |        |               |
| DBLP    | ==0.8749==    |               | 0.8131        |        | 0.7746 | 0.8222>0.9911 |
| DBLP_D  | 0.5716        |               | 0.5569        |        |        |               |
| DBLP_RD | ==0.5319==    | 0.9895>0.9454 |               |        |        |               |

UDAGCN：训练集采样比例为0.8，测试集为0.2

原数据
ACM: 22270
DBLP： 14682

随机删除边
ACM_D0.2(即 del_acm0.x_x): 4454
DBLP_D0.2(即 del_dblp0.x_x)：2936  
      0.6                    8809

等比例删除边

ACM_RD0.2(即 ratiodel_acm0.x_x)：4436
DBLP_RD0.2(即 ratiodel_dblp0.x_x)：2931
DBLP_RD0.4(即 ratiodel_dblp0.x_x)：5867
DBLP_RD0.6(即 ratiodel_dblp0.x_x)：8803 
DBLP_RD0.8(即 ratiodel_dblp0.x_x)：11739

> 为了避免过多的实验，仅考虑DBLP和ACM作为源域的情况



* 考虑到之前有研究显示低度的节点趋向于拥有更低的准确度，为了考察，在高度分布图中学得的权重矩阵，能够是否在低度节点上也能有效地运用；考察源域不同度节点上地准确率，以及目标域不同节点上地准确率分布；换句话说就是，删边带来地表现下降是否可以从度地角度去考察？



* 11.22 将改变后的VGAE进行实验，然后就是实验无PPMI和无迁移gcn还有无迁移vgae的效果

  ==重做所有baseline，使用最后一个epoch的结果，而不是best的结果==

  无PPMI有迁移 
  
  
  
  无PPMI无迁移 
  
  
  
  有PPMI无迁移

* 针对节点对的VGAE自编码器效果





## Note

* 关于cycle consistency的具体做法是什么？

> 一个是重建损失上的cycle,也就是$X_{TST}-X_T$的重建损失，使用TST不用STS是应为某些S中的样本可能再少量的T域中没有对应的样本作为监督
>
> 一个是task上的cycle，也就是用$X_{ST}$得到的中间隐变量$Z_{ST}$的分类结果（用原本S域的标签）



VGAE中使用CE损失来为每个节点对之间边的存在性进行判定



* 如何考虑引入PPMI，在VGAE中引入？



* 是否有必要去考虑节点在网络中的position对于链接预测的影响，特别是在目标域连接很稀疏的时候？还有就是解码时的置换不变性？



* 换一个思路，目标域连接性不稀疏，使用VGAE增加来自源域的解码器生成的边，是否会增加效果？





* 判断连接时应当加入sparsity的考虑，也就是由于邻接矩阵非常稀疏导致正负样本失衡的问题，Loss中给正样本较大权重之类的；准确的说对源域是使用正负样本的思路，而对目标域则要引入低秩约束



* 如何处理源域和目标域节点数量不同的情况

>  节点对的形式可以处理，但这样就不能再使用图卷积了





* 按节点求分布的话，分布怎么对齐？





* 实际上我们的观测值是A和X，由于A是0，1的值选一个（不能认为中间的NxNx2D是观测值），所以只能使用伯努利分布，而不是高斯分布作为一个先验



## TODO

- [ ] 修改数据读取的代码，固定label和X的输入路径

- [ ] 检查UDAGCN中出来的ppmi encoder 和encoder最后的权重是否相同

- [ ] 查一下一般的训练设置(是取最后还是取最好的)

- [ ] 去除PPMI再进行实验

- [ ] 无迁移直接应用VGAE模型，查看在目标域上的效果如何

- [x] 查阅cross_domain的相关文献

- [x] VGAE的相关文献

  
